#!/usr/bin/env python

import json
import os
import re
import requests
import time


# This script makes irreversible changes to a GitHub repository!
# Therefore, you'll need to generate a "Personal API Token"
# from https://github.com/settings/tokens/new , and store it
# in GITHUB_API_TOKEN below. If your repository is private,
# you'll need to include at least the "repo" permission
# ("Full control of private repositories").
# Do not publish this API token! Do not push it to GitHub!

GITHUB_REPOSITORY_NAME = 'llvm/llvm-project'
GITHUB_API_TOKEN = os.environ['GITHUB_API_TOKEN']


gh_resolution_map = {
    "WORKSFORME": [
        375, 522, 539, 688, 806, 832, 908, 942, 945, 961, 985, 1008, 1096, 1112, 1114, 1181, 1276, 1279, 1300, 1343,
        1366, 1407, 1459, 1484, 1534, 1552, 1562, 1599, 1619, 1671, 1712, 1744, 1746, 1800, 1819, 1944, 1951, 1991, 2002, 2016,
        2027, 2048, 2049, 2073, 2094, 2103, 2184, 2225, 2238, 2247, 2277, 2290, 2333, 2405, 2447, 2456, 2482, 2496, 2502, 2528,
        2580, 2581, 2586, 2588, 2649, 2667, 2672, 2673, 2684, 2726, 2738, 2739, 2750, 2768, 2792, 2826, 2841, 2845, 2894, 2899,
        2909, 2913, 2928, 2934, 2935, 2943, 2952, 2956, 2963, 3011, 3061, 3065, 3074, 3089, 3091, 3093, 3094, 3110, 3117, 3133,
        3148, 3153, 3223, 3269, 3382, 3389, 3414, 3453, 3457, 3458, 3464, 3481, 3500, 3509, 3536, 3539, 3556, 3563, 3575, 3576,
        3628, 3642, 3645, 3675, 3687, 3701, 3718, 3761, 3764, 3772, 3775, 3784, 3788, 3827, 3854, 3855, 3937, 3942, 3945, 3999,
        4006, 4027, 4102, 4127, 4210, 4229, 4251, 4256, 4257, 4265, 4281, 4368, 4384, 4404, 4415, 4416, 4420, 4425, 4474, 4478,
        4502, 4511, 4528, 4541, 4571, 4616, 4635, 4654, 4671, 4682, 4749, 4787, 4815, 4829, 4845, 4912, 4926, 4927, 4948, 4958,
        4977, 5006, 5010, 5019, 5043, 5081, 5116, 5159, 5163, 5169, 5272, 5273, 5274, 5317, 5361, 5365, 5370, 5384, 5392, 5430,
        5446, 5467, 5485, 5536, 5564, 5591, 5641, 5646, 5665, 5676, 5719, 5726, 5729, 5738, 5775, 5825, 5843, 5845, 5857, 5865,
        5897, 6029, 6094, 6135, 6141, 6171, 6184, 6186, 6207, 6242, 6257, 6299, 6300, 6322, 6328, 6331, 6366, 6375, 6425, 6436,
        6475, 6487, 6530, 6538, 6613, 6632, 6634, 6661, 6679, 6680, 6683, 6687, 6692, 6695, 6706, 6759, 6799, 6802, 6814, 6836,
        6844, 6859, 6860, 6888, 6939, 6971, 6982, 6984, 6998, 7006, 7058, 7103, 7161, 7195, 7206, 7214, 7255, 7332, 7335, 7353,
        7369, 7428, 7436, 7457, 7463, 7465, 7582, 7585, 7605, 7609, 7634, 7673, 7674, 7675, 7711, 7736, 7773, 7782, 7824, 7859,
        7867, 7879, 7892, 7950, 7979, 7984, 8006, 8014, 8033, 8082, 8169, 8218, 8221, 8229, 8249, 8253, 8259, 8267, 8284, 8309,
        8310, 8319, 8322, 8350, 8377, 8396, 8415, 8460, 8463, 8488, 8500, 8527, 8615, 8679, 8735, 8756, 8759, 8777, 8785, 8787,
        8788, 8853, 8870, 8898, 8903, 8915, 8946, 8981, 9088, 9094, 9203, 9206, 9283, 9315, 9456, 9508, 9547, 9577, 9581, 9608,
        9637, 9669, 9714, 9741, 9755, 9795, 9800, 9813, 9830, 9870, 9946, 10012, 10014, 10031, 10104, 10208, 10215, 10372, 10478, 10497,
        10503, 10527, 10539, 10594, 10627, 10648, 10689, 10692, 10715, 10750, 10752, 10774, 10779, 10826, 10836, 10837, 10849, 10853, 10854, 10878,
        10889, 10896, 10897, 10898, 10907, 10998, 11003, 11042, 11047, 11057, 11077, 11104, 11180, 11190, 11245, 11246, 11276, 11283, 11325, 11336,
        11440, 11464, 11495, 11551, 11608, 11609, 11637, 11643, 11687, 11695, 11698, 11699, 11708, 11788, 11814, 11835, 11855, 11858, 11894, 11897,
        11909, 11927, 11931, 11933, 11946, 11954, 11956, 11994, 12000, 12044, 12092, 12108, 12127, 12160, 12176, 12187, 12210, 12231, 12259, 12262,
        12264, 12284, 12286, 12329, 12332, 12335, 12341, 12370, 12371, 12394, 12411, 12440, 12445, 12479, 12524, 12535, 12672, 12680, 12694, 12703,
        12802, 12816, 12858, 12859, 12864, 12891, 12894, 12909, 12920, 12923, 12979, 13079, 13108, 13152, 13175, 13183, 13224, 13228, 13236, 13254,
        13255, 13258, 13266, 13286, 13324, 13337, 13382, 13449, 13488, 13507, 13564, 13602, 13618, 13628, 13642, 13651, 13688, 13739, 13748, 13778,
        13828, 13835, 13837, 13875, 13916, 13940, 13958, 13962, 13972, 14011, 14051, 14097, 14124, 14160, 14169, 14239, 14256, 14295, 14390, 14440,
        14441, 14464, 14521, 14569, 14616, 14643, 14790, 14796, 14835, 14899, 14916, 14918, 14943, 14959, 14961, 14976, 14992, 15021, 15062, 15084,
        15098, 15152, 15212, 15216, 15298, 15379, 15453, 15478, 15514, 15535, 15573, 15630, 15650, 15687, 15760, 15761, 15773, 15779, 15790, 15815,
        15861, 15879, 15893, 15898, 15925, 15947, 15964, 15976, 15984, 16025, 16054, 16059, 16072, 16090, 16113, 16158, 16161, 16176, 16224, 16246,
        16251, 16253, 16271, 16329, 16360, 16368, 16377, 16412, 16442, 16535, 16557, 16611, 16633, 16634, 16650, 16738, 16773, 16783, 16831, 16834,
        16922, 16937, 16956, 17013, 17058, 17078, 17108, 17117, 17244, 17330, 17361, 17387, 17390, 17410, 17439, 17444, 17539, 17565, 17576, 17599,
        17600, 17602, 17606, 17620, 17623, 17624, 17656, 17704, 17794, 17848, 17851, 17897, 17916, 17957, 17967, 17979, 18001, 18004, 18020, 18096,
        18168, 18169, 18207, 18317, 18361, 18375, 18413, 18437, 18458, 18466, 18480, 18494, 18496, 18552, 18568, 18574, 18595, 18604, 18611, 18628,
        18640, 18666, 18687, 18694, 18704, 18736, 18765, 18787, 18796, 18822, 18858, 18892, 18907, 18985, 19002, 19097, 19134, 19161, 19186, 19196,
        19198, 19203, 19206, 19255, 19266, 19280, 19304, 19328, 19330, 19344, 19351, 19460, 19475, 19481, 19529, 19536, 19579, 19586, 19639, 19674,
        19678, 19723, 19736, 19822, 19881, 19926, 19935, 19980, 20038, 20044, 20071, 20077, 20260, 20289, 20296, 20348, 20409, 20503, 20530, 20545,
        20604, 20606, 20650, 20668, 20770, 20780, 20850, 20913, 20977, 21003, 21006, 21012, 21068, 21097, 21137, 21163, 21243, 21306, 21324, 21400,
        21415, 21416, 21433, 21450, 21516, 21521, 21535, 21545, 21683, 21717, 21724, 21750, 21757, 21768, 21823, 21853, 21908, 21927, 21973, 21994,
        22071, 22082, 22115, 22151, 22179, 22192, 22201, 22212, 22314, 22335, 22424, 22468, 22581, 22634, 22635, 22715, 22772, 22787, 22819, 22855,
        22873, 22882, 22902, 22954, 22960, 22985, 23067, 23104, 23118, 23159, 23178, 23197, 23239, 23241, 23336, 23343, 23463, 23489, 23521, 23541,
        23610, 23626, 23649, 23665, 23736, 23737, 23820, 23839, 23962, 23967, 24058, 24077, 24121, 24199, 24238, 24310, 24326, 24380, 24422, 24435,
        24448, 24467, 24510, 24527, 24551, 24552, 24611, 24655, 24656, 24659, 24734, 24762, 24790, 24891, 24921, 24981, 24989, 25005, 25079, 25111,
        25121, 25173, 25224, 25263, 25309, 25323, 25386, 25401, 25423, 25439, 25497, 25535, 25612, 25654, 25658, 25696, 25736, 25785, 25855, 25872,
        25883, 25891, 25892, 25893, 25911, 25919, 25948, 25961, 25983, 26023, 26037, 26074, 26192, 26224, 26240, 26287, 26299, 26353, 26359, 26436,
        26468, 26476, 26488, 26509, 26534, 26580, 26642, 26716, 26742, 26753, 26852, 26882, 26954, 26999, 27069, 27080, 27183, 27248, 27255, 27258,
        27272, 27296, 27299, 27381, 27534, 27541, 27667, 27670, 27715, 27796, 27814, 27885, 27895, 27961, 27997, 28001, 28018, 28021, 28023, 28024,
        28121, 28169, 28207, 28257, 28282, 28293, 28351, 28390, 28451, 28488, 28511, 28554, 28620, 28621, 28626, 28682, 28725, 28729, 28753, 28870,
        28929, 28946, 28958, 29014, 29018, 29166, 29216, 29218, 29235, 29257, 29275, 29284, 29332, 29381, 29386, 29419, 29420, 29421, 29446, 29498,
        29571, 29574, 29601, 29615, 29664, 29852, 29865, 29897, 29912, 29977, 29978, 29993, 30058, 30074, 30099, 30113, 30125, 30127, 30176, 30178,
        30186, 30191, 30248, 30275, 30297, 30313, 30335, 30339, 30363, 30378, 30387, 30406, 30541, 30551, 30567, 30582, 30638, 30841, 30931, 31100,
        31339, 31344, 31430, 31509, 31594, 31638, 31657, 31658, 31670, 31709, 31792, 31816, 31876, 31930, 31980, 31988, 32008, 32012, 32340, 32343,
        32438, 32446, 32499, 32628, 32635, 32656, 32695, 32710, 32745, 32747, 32750, 32902, 32924, 32964, 32966, 33117, 33121, 33122, 33240, 33634,
        33680, 33739, 33757, 33971, 34046, 34047, 34048, 34050, 34147, 34306, 34343, 34384, 34548, 34574, 34601, 34778, 34849, 34873, 34888, 35076,
        35161, 35177, 35253, 35277, 35278, 35509, 35533, 35555, 35641, 35745, 35845, 35854, 35919, 35943, 35974, 35977, 36040, 36271, 36294, 36329,
        36559, 36568, 36614, 36639, 36649, 36693, 36704, 36810, 36897, 36927, 36992, 37003, 37073, 37080, 37127, 37141, 37285, 37388, 37450, 37466,
        37668, 37726, 37883, 37967, 38014, 38044, 38117, 38154, 38397, 38404, 38405, 38431, 38448, 38484, 38627, 38699, 38867, 38907, 38922, 38990,
        39164, 39217, 39270, 39377, 39790, 39954, 40037, 40054, 40142, 40247, 40338, 40408, 40437, 40441, 40452, 40453, 40454, 40484, 40553, 40616,
        40794, 40800, 40862, 40866, 40905, 40967, 41039, 41151, 41295, 41299, 41421, 41459, 41460, 41462, 41645, 41654, 41671, 41859, 41889, 42070,
        42092, 42111, 42321, 42365, 42392, 42468, 42508, 42545, 42560, 42569, 42776, 42882, 42902, 42977, 42979, 43004, 43179, 43290, 43311, 43350,
        43392, 43448, 43479, 43490, 43668, 43723, 43755, 43860, 43872, 43899, 44011, 44038, 44092, 44174, 44179, 44193, 44207, 44418, 44454, 44576,
        44586, 44689, 45010, 45075, 45101, 45223, 45264, 45356, 45461, 45711, 45741, 45786, 45873, 45886, 46199, 46205, 46269, 46536, 46584, 46636,
        46694, 46729, 46909, 46959, 46985, 47043, 47072, 47119, 47178, 47219, 47224, 47297, 47525, 47672, 47813, 48554, 48706, 48814, 48822, 48849,
        48930, 48932, 48964, 49018, 49024, 49053, 49055, 49086, 49128, 49225, 49232, 49656, 49667, 49712, 49739, 49802, 49837, 50018, 50036, 50108,
        50211, 50256, 50291, 50299, 50848, 50856, 50934, 51075, 51280, 51763,
    ],
    "INVALID": [
        384, 385, 448, 642, 672, 707, 710, 542, 618, 715, 620, 622, 654, 658, 660, 601, 414, 415,
    ],
    "DUPLICATE": [
        545, 387, 516, 517, 555, 526, 528, 433, 624, 626, 691, 722, 535, 667, 604, 637
    ],
    "WONTFIX": [
        394, 395, 428, 432, 446, 472, 478, 483, 493, 501, 525, 602, 603, 649, 674, 679, 689, 690, 714, 721,
        726, 748, 762, 767, 771, 781, 784, 799, 834, 858, 861, 891, 925, 938, 977, 995, 1103, 1116, 1128, 1155,
        1164, 1165, 1174, 1184, 1208, 1268, 1275, 1288, 1360, 1372, 1398, 1424, 1478, 1496, 1521, 1522, 1528, 1533, 1656, 1664,
        1726, 1780, 1784, 1808, 1817, 1883, 1890, 1977, 2028, 2030, 2090, 2108, 2180, 2240, 2282, 2289, 2317, 2325, 2330, 2349,
        2378, 2412, 2423, 2446, 2522, 2547, 2566, 2573, 2637, 2737, 2748, 2771, 2823, 2842, 2867, 2924, 2941, 2966, 2983, 3045,
        3054, 3106, 3139, 3262, 3281, 3288, 3302, 3309, 3310, 3323, 3337, 3385, 3431, 3441, 3455, 3471, 3488, 3493, 3501, 3535,
        3603, 3678, 3695, 3699, 3732, 3762, 3781, 3785, 3810, 3820, 3880, 3887, 3920, 3940, 3948, 4008, 4056, 4128, 4129, 4158,
        4163, 4168, 4175, 4195, 4204, 4209, 4211, 4259, 4295, 4319, 4353, 4391, 4433, 4437, 4443, 4489, 4527, 4530, 4539, 4540,
        4608, 4612, 4637, 4670, 4683, 4692, 4696, 4731, 4732, 4735, 4747, 4802, 4812, 4865, 4880, 4883, 4888, 4895, 4899, 4901,
        4932, 4945, 5007, 5020, 5023, 5062, 5065, 5084, 5089, 5090, 5091, 5094, 5113, 5137, 5168, 5183, 5221, 5268, 5348, 5380,
        5383, 5385, 5419, 5483, 5527, 5547, 5606, 5660, 5712, 5772, 5799, 5814, 5863, 5951, 5960, 5982, 6068, 6224, 6316, 6413,
        6454, 6507, 6527, 6542, 6595, 6717, 6736, 6738, 6750, 6757, 6773, 6774, 6778, 6797, 6952, 6974, 7034, 7048, 7085, 7091,
        7135, 7136, 7176, 7265, 7340, 7342, 7348, 7366, 7407, 7419, 7455, 7464, 7480, 7488, 7543, 7572, 7592, 7598, 7599, 7709,
        7768, 7802, 8043, 8154, 8178, 8354, 8454, 8493, 8503, 8525, 8532, 8560, 8580, 8645, 8648, 8704, 8750, 8794, 8823, 8837,
        8868, 8912, 8928, 9006, 9027, 9108, 9126, 9159, 9160, 9169, 9222, 9274, 9362, 9391, 9447, 9451, 9458, 9469, 9480, 9506,
        9507, 9517, 9535, 9541, 9552, 9578, 9614, 9622, 9626, 9646, 9663, 9682, 9683, 9684, 9689, 9737, 9747, 9751, 9769, 9783,
        9811, 9900, 9905, 9908, 9934, 9968, 9994, 10016, 10037, 10073, 10108, 10119, 10124, 10130, 10138, 10143, 10151, 10158, 10201, 10260,
        10263, 10284, 10330, 10352, 10377, 10409, 10423, 10466, 10505, 10601, 10612, 10613, 10732, 10737, 10763, 10799, 10801, 10820, 10821, 10842,
        10890, 10916, 10962, 10968, 11007, 11080, 11114, 11213, 11281, 11331, 11343, 11351, 11365, 11369, 11386, 11390, 11487, 11507, 11599, 11611,
        11633, 11650, 11663, 11668, 11739, 11780, 11824, 11839, 11899, 11911, 11921, 11926, 11928, 11955, 11965, 12011, 12025, 12029, 12227, 12257,
        12315, 12345, 12358, 12488, 12621, 12688, 12860, 12906, 12928, 12930, 12932, 12991, 12993, 13048, 13080, 13201, 13239, 13253, 13319, 13361,
        13445, 13478, 13515, 13546, 13565, 13614, 13654, 13779, 13780, 13844, 13932, 13980, 13995, 14043, 14085, 14095, 14112, 14113, 14136, 14141,
        14142, 14163, 14191, 14268, 14283, 14327, 14352, 14394, 14413, 14501, 14578, 14676, 14692, 14706, 14779, 14834, 14931, 15047, 15089, 15174,
        15188, 15193, 15225, 15284, 15310, 15319, 15348, 15363, 15477, 15516, 15576, 15593, 15600, 15649, 15659, 15671, 15688, 15708, 15803, 15821,
        15856, 15871, 15875, 15908, 15919, 15966, 16074, 16160, 16179, 16197, 16306, 16361, 16443, 16449, 16479, 16494, 16527, 16615, 16644, 16656,
        16699, 16774, 16863, 16907, 16933, 16957, 16984, 17066, 17121, 17161, 17194, 17224, 17289, 17359, 17362, 17380, 17416, 17465, 17486, 17488,
        17510, 17534, 17550, 17579, 17581, 17605, 17614, 17618, 17676, 17702, 17738, 17739, 17784, 17813, 17814, 17815, 17816, 17817, 17818, 17819,
        17820, 17821, 17822, 17823, 17824, 17829, 17831, 17832, 17836, 17876, 17882, 17889, 17891, 18050, 18123, 18159, 18173, 18231, 18248, 18265,
        18275, 18287, 18301, 18302, 18326, 18365, 18384, 18392, 18632, 18698, 18720, 18727, 18766, 18798, 18803, 18814, 18866, 18867, 19040, 19045,
        19060, 19063, 19083, 19084, 19088, 19132, 19192, 19224, 19326, 19362, 19501, 19527, 19560, 19609, 19738, 19813, 19839, 19845, 19893, 19959,
        20007, 20107, 20113, 20118, 20123, 20236, 20293, 20312, 20321, 20325, 20387, 20519, 20524, 20547, 20551, 20628, 20659, 20667, 20675, 20695,
        20713, 20731, 20732, 20736, 20797, 20798, 20801, 20803, 20862, 20906, 20945, 20964, 20969, 20974, 20981, 20995, 21005, 21010, 21024, 21028,
        21104, 21111, 21125, 21130, 21131, 21195, 21215, 21248, 21250, 21270, 21277, 21287, 21294, 21299, 21422, 21445, 21461, 21464, 21465, 21503,
        21524, 21555, 21593, 21611, 21770, 21836, 21860, 21897, 21907, 21914, 21957, 21958, 21974, 22010, 22018, 22028, 22029, 22034, 22055, 22056,
        22057, 22060, 22089, 22164, 22180, 22339, 22398, 22431, 22441, 22495, 22549, 22556, 22572, 22598, 22826, 22827, 22828, 22833, 22884, 22889,
        22897, 22913, 22919, 22948, 23019, 23035, 23064, 23238, 23240, 23285, 23341, 23351, 23437, 23522, 23580, 23686, 23690, 23711, 23753, 23808,
        23813, 23871, 23876, 23881, 23907, 24086, 24133, 24200, 24216, 24219, 24221, 24241, 24264, 24321, 24325, 24385, 24412, 24468, 24508, 24584,
        24587, 24625, 24684, 24695, 24737, 24744, 24809, 24850, 24866, 24888, 24903, 24922, 24930, 25015, 25199, 25203, 25228, 25348, 25350, 25376,
        25382, 25451, 25459, 25557, 25677, 25733, 25787, 25820, 25833, 25918, 25979, 26018, 26019, 26052, 26060, 26081, 26111, 26163, 26195, 26324,
        26369, 26394, 26439, 26544, 26545, 26561, 26586, 26705, 26734, 26739, 26877, 26913, 26952, 27011, 27014, 27022, 27032, 27046, 27051, 27115,
        27128, 27151, 27152, 27205, 27220, 27256, 27270, 27273, 27313, 27342, 27370, 27414, 27417, 27456, 27504, 27551, 27568, 27611, 27630, 27711,
        27811, 27938, 28107, 28192, 28313, 28359, 28409, 28447, 28623, 28660, 28751, 28865, 28884, 28990, 29204, 29245, 29286, 29322, 29562, 29573,
        29633, 29670, 29676, 29708, 29762, 29792, 29794, 29830, 29845, 29876, 29877, 29930, 29965, 29998, 30027, 30088, 30139, 30203, 30204, 30311,
        30353, 30430, 30437, 30502, 30525, 30552, 30561, 30572, 30620, 30702, 30758, 30816, 30830, 30996, 31014, 31026, 31056, 31070, 31173, 31257,
        31309, 31328, 31402, 31447, 31521, 31523, 31558, 31675, 31686, 31723, 31754, 31784, 31826, 31843, 31929, 31951, 31960, 32030, 32109, 32141,
        32150, 32160, 32275, 32372, 32448, 32501, 32560, 32561, 32562, 32563, 32564, 32565, 32578, 32720, 32721, 32722, 32723, 32724, 32725, 32726,
        32727, 32737, 32738, 32739, 32880, 32890, 32891, 32911, 32934, 33030, 33075, 33153, 33156, 33187, 33256, 33360, 33369, 33404, 33411, 33422,
        33489, 33524, 33532, 33652, 33678, 33727, 33811, 33864, 33946, 33955, 34279, 34408, 34561, 34608, 34694, 34770, 34794, 34910, 34930, 35007,
        35022, 35167, 35201, 35239, 35290, 35291, 35390, 35488, 35495, 35635, 35699, 35735, 35793, 35808, 35868, 35963, 36260, 36282, 36496, 36546,
        36548, 36683, 36688, 36723, 36831, 36838, 36860, 36876, 36890, 36990, 37047, 37179, 37252, 37385, 37411, 37511, 37629, 37648, 37698, 37803,
        37914, 37952, 37994, 38011, 38115, 38197, 38252, 38269, 38312, 38365, 38423, 38482, 38613, 38614, 38660, 38691, 38763, 38978, 39091, 39138,
        39550, 39554, 39607, 39827, 39894, 40043, 40090, 40135, 40198, 40302, 40353, 40357, 40403, 40404, 40457, 40541, 40674, 40688, 40756, 40787,
        40863, 40888, 40944, 41123, 41326, 41375, 41435, 41451, 41635, 41643, 41673, 41674, 41701, 41719, 41803, 41885, 41995, 42058, 42066, 42076,
        42147, 42171, 42176, 42278, 42295, 42326, 42331, 42358, 42538, 42553, 42568, 42584, 42628, 42765, 42797, 42810, 43026, 43088, 43167, 43277,
        43323, 43342, 43379, 43406, 43410, 43614, 43707, 43737, 43797, 43858, 43867, 43877, 44028, 44060, 44135, 44148, 44282, 44329, 44362, 44421,
        44533, 44652, 44679, 44693, 44699, 44725, 44730, 44757, 44810, 44827, 44854, 44904, 44941, 45005, 45048, 45275, 45343, 45546, 45604, 45626,
        45636, 45664, 45709, 45781, 45819, 46047, 46318, 46447, 46474, 46550, 46557, 46621, 46639, 46799, 46829, 46837, 46970, 47024, 47121, 47142,
        47222, 47257, 47300, 47363, 47600, 47614, 47695, 47844, 48184, 48531, 48716, 49016, 49027, 49048, 49061, 49332, 49456, 49493, 49531, 49544,
        49605, 49772, 49814, 49815, 49849, 49860, 49917, 50065, 50089, 50093, 50325, 50391, 50572, 50605, 50651, 50741, 50822, 50965, 51099, 51206,
        51271, 51371, 51633, 51719, 51725, 51730, 51732,
    ],
}


def submit_github_label(gh_id, labelname):
    assert re.match(r'[A-Za-z0-9_-]+/[A-Za-z0-9_-]+', GITHUB_REPOSITORY_NAME)
    assert type(gh_id) is int
    assert re.match(r'[a-z]+', labelname)
    r = requests.post(
        'https://api.github.com/repos/%s/issues/%d/labels' % (GITHUB_REPOSITORY_NAME, gh_id),
        headers={
            'Authorization': 'token %s' % GITHUB_API_TOKEN,
        },
        data=json.dumps({
            'labels': [labelname]
        }),
    )
    assert r.status_code != 401, 'ERROR -- HTTP 401 Unauthorized -- is your API token expired or misspelled?'
    assert r.status_code == 200, 'Expected HTTP 200 OK, not HTTP %d: %s' % (r.status_code, r.text)
    print(r.text)


if __name__ == '__main__':
    total = sum(len(gh_ids) for gh_ids in gh_resolution_map.values())
    processed = 0
    start_time = time.time()
    for key, gh_ids in gh_resolution_map.items():
        labelname = key.lower()
        for gh_id in gh_ids:
            assert type(gh_id) is int
            submit_github_label(gh_id, labelname)
            processed += 1
            elapsed = time.time() - start_time
            remaining = elapsed * (total - processed) / processed
            print('Processed %d of %d bugs in %.2fs; %ds remaining' % (processed, total, elapsed, remaining))
